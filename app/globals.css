/* Tailwind v4: single import */
@import "tailwindcss";

/* IMPROVEMENT: Import Geist Sans and Geist Mono fonts from Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400..900&family=Geist+Sans:wght@100..900&display=swap');

/* Optional: animations plugin (install first: npm i -D tailwindcss-animate) */
@plugin "tailwindcss-animate";

/* Tell Tailwind how to treat “dark:” (class on <html>) */
@custom-variant dark (&:is(.dark *));

/* ---- Design tokens (light) ---- */
:root {
  /* MODIFICATION: Added font variables */
  --font-geist-sans: "Geist Sans", sans-serif;
  --font-geist-mono: "Geist Mono", monospace;

  --background: oklch(1 0 0); /* White */
  --foreground: oklch(0.145 0 0);
  --card: #FDFAF6; /* Off-white card color */
  --card-foreground: oklch(0.145 0 0);
  --popover: #FDFAF6; /* Off-white popover color */
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.94 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.45 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 .05);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --radius: 0.625rem;
  --accent-color: oklch(0.6 0.2 260); /* Electric Blue */
  --accent-color-foreground: oklch(1 0 0);
}

/* ---- Design tokens (dark) ---- */
.dark {
  --background: black;
  --foreground: oklch(0.97 0 0);
  --card: #21252b;
  --card-foreground: oklch(0.97 0 0);
  --popover: #171717;
  --popover-foreground: oklch(0.97 0 0);
  --primary: oklch(0.97 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.97 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.9 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --accent-color: oklch(0.65 0.22 260); /* Brighter Electric Blue */
  --accent-color-foreground: oklch(0.1 0 0);
}

/* Map tokens to Tailwind theme vars */
@theme inline {
  /* MODIFICATION: Map new fonts to Tailwind's theme */
  --font-family-sans: var(--font-geist-sans);
  --font-family-mono: var(--font-geist-mono);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-accent: var(--accent-color);
  --color-accent-foreground: var(--accent-color-foreground);
}

/* Base layer */
@layer base {
  * { @apply border-border outline-ring/50; }
  /* MODIFICATION: Apply the new sans-serif font to the body */
  body { @apply bg-background text-foreground font-sans; }
}

/* === Utility Classes === */
@layer components {
  .text-title {
    @apply text-lg font-semibold tracking-wide;
  }

  .button-hover-scale {
    @apply transition-transform duration-200 ease-in-out hover:scale-[1.03];
  }
  
  .badge-accent {
      @apply bg-accent text-accent-foreground;
  }

  /* Card hover border glow effect */
  .card-hover-glow {
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
  }

  .dark .card-hover-glow:hover {
    border-color: rgba(255, 255, 255, 0.15); 
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
  }

  .card-hover-glow:hover {
   border-color: rgba(0, 0, 0, 0.15);
   box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
  }
}

/* --- Gradient Text --- */
html.dark .gradient-text-rb {
  --rb1: #ff4a4a;
  --rb2: rgba(255, 255, 255, 0.92);
}
@supports not (background-clip: text) {
  .gradient-text-rb {
    color: var(--rb1);
  }
}
.glass-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: var(--shadow);
  /* -webkit-backdrop-filter: blur(4px) saturate(160%);
  backdrop-filter: blur(4px) saturate(160%); */
  /* overflow: clip;  */
}

/* faint inner highlight for “real glass” edge */
.glass-card::before {
  content: "";
  position: absolute; inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.28), rgba(255,255,255,0.04) 40%,) ;
  mix-blend-mode: screen;
  opacity: .65;
}

/* subtle top glossy streak */
.gloss {
  position: relative;
}
.gloss::after {
  content: "";
  position: absolute; left: 10%; right: 10%; top: 0; height: 48px;
  border-radius: 0 0 24px 24px;
  background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0));
  pointer-events: none;
  opacity: .45;
}

/* Hover elevate — tiny & tasteful */
@media (prefers-reduced-motion: no-preference) {
  .glass-hover {
    transition: transform .2s ease, box-shadow .2s ease;
  }
  .glass-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 18px 50px rgba(0,0,0,0.18);
  }
}

/* Light dividers inside glass (replaces heavy bars) */
.glass-divider {
  border-top: 1px solid rgba(255,255,255,0.34);
}
html.dark .glass-divider {
  border-top: 1px solid rgba(255,255,255,0.14);
}

/* Buttons/tiles inside glass — keep them flatter */
.glass-tile {
  background: var(--secondary);
  border: 1px solid var(--border);
  border-radius: 12px;
}
html.dark .glass-tile {
  background: rgba(255,255,255,0.08);
  border-color: rgba(255,255,255,0.18);
}
/* Webkit browsers */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background-color: rgba(100, 100, 100, 0.4);
  border-radius: 8px;
}
::-webkit-scrollbar-thumb:hover {
  background-color: rgba(100, 100, 100, 0.6);
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(100, 100, 100, 0.4) transparent;
}
:root { --app-scale: .75; }

/* Your existing wrapper scale (Firefox fallback) */
@media (hover: hover) and (pointer: fine) {
  #page-scale-wrapper {
    transform: scale(var(--app-scale));
    transform-origin: top left;
    width: calc(100% / var(--app-scale));
    min-height: calc(100vh / var(--app-scale));
  }

  /* One-time fixes for common Tailwind classes */
  .h-screen     { height:     calc(100vh / var(--app-scale)) !important; }
  .min-h-screen { min-height: calc(100vh / var(--app-scale)) !important; }
  .max-h-screen { max-height: calc(100vh / var(--app-scale)) !important; }
}

/* Prefer native zoom when available (keeps text sharp & vh correct) */
@supports (zoom: 1) {
  html { zoom: var(--app-scale); }
  #page-scale-wrapper { transform: none; width: 100%; min-height: 100vh; }
}
